## í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ë° ê¸°ëŠ¥ ê²€ì¦ ë³´ì™„

**ëª©í‘œ:** ë‹¨ìˆœ ê¸°ëŠ¥ êµ¬í˜„ì„ ë„˜ì–´ì„œ **í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì•ˆì •ì„± í™•ë³´**

### ğŸ§ª í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì¶•
- **í…ŒìŠ¤íŠ¸ í”„ë¡œíŒŒì¼**: `application-test.yml`
  - ìë™ ì ìš©: ./gradlew test ì‹¤í–‰ ì‹œ application-test.ymlì´ ìë™ ë¡œë“œë˜ì–´ í…ŒìŠ¤íŠ¸ í”„ë¡œíŒŒì¼ í™œì„±í™”
  - DB: H2 ì¸ë©”ëª¨ë¦¬ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©, ë§¤ í…ŒìŠ¤íŠ¸ë§ˆë‹¤ create-dropìœ¼ë¡œ ìŠ¤í‚¤ë§ˆ ì´ˆê¸°í™”
  - JWT: í…ŒìŠ¤íŠ¸ ì „ìš© ì‹œí¬ë¦¿ í‚¤ ë° 1ì‹œê°„ ë§Œë£Œ ì‹œê°„ ì„¤ì •
  - í…ŒìŠ¤íŠ¸ ê²©ë¦¬: @DataJpaTestëŠ” ê° í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ìë™ íŠ¸ëœì­ì…˜ ë¡¤ë°±ìœ¼ë¡œ ì™„ì „í•œ DB ìƒíƒœ ì´ˆê¸°í™”
  - â†’ ë³„ë„ì˜ í™˜ê²½ êµ¬ì„± ì—†ì´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ë§Œìœ¼ë¡œ ì¼ê´€ëœ í™˜ê²½ì—ì„œ ì•ˆì •ì ìœ¼ë¡œ ê²€ì¦ ê°€ëŠ¥
  
- **í…ŒìŠ¤íŠ¸ ë„êµ¬**
  - **JUnit 5 (Jupiter)**: í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬
  - **Spring Boot Test**: `@SpringBootTest`, `@WebMvcTest`
  - **Mockito**: Repository, Service ëª¨í‚¹
  - **H2 Database**: ì¸ë©”ëª¨ë¦¬ DB ê¸°ë°˜ ë°ì´í„° ê²€ì¦
  - **Testcontainers**: ì‹¤ì œ DB(PostgreSQL/MySQL) ê¸°ë°˜ í†µí•© í…ŒìŠ¤íŠ¸
  - **Jacoco**: í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸

#### 1) Unit Test (í•µì‹¬ ë¡œì§ ê²€ì¦) âœ… **êµ¬í˜„ ì™„ë£Œ**

- **JwtUtilTest**: JWT í† í° ìƒì„±/ê²€ì¦/ë§Œë£Œ ì—¬ë¶€/Claims íŒŒì‹± ê²€ì¦ (11ê°œ í…ŒìŠ¤íŠ¸)
- **UserServiceTest**: ì‚¬ìš©ì CRUD ë° ì˜ˆì™¸ ì²˜ë¦¬ ê²€ì¦ (10ê°œ í…ŒìŠ¤íŠ¸)
- **GoogleResponseTest**: OAuth2 ì‘ë‹µ íŒŒì‹± ë° null-safe ì²˜ë¦¬ ê²€ì¦ (8ê°œ í…ŒìŠ¤íŠ¸)
- **ì„±ê³¼**: ì´ 29ê°œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± â†’ ì½”ë“œ í’ˆì§ˆ ê°œì„  (ë²„ê·¸ ìˆ˜ì • & null-safe ê°•í™”)

##### **ğŸ”§ Unit Testë¥¼ í†µí•œ ì‹¤ì œ ì½”ë“œ í’ˆì§ˆ ê°œì„ **

1. **UserService.createUser() ë²„ê·¸ ìˆ˜ì •**:
   ```java
   // ìˆ˜ì • ì „: save ë°˜í™˜ê°’ì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (IDê°€ null)
   userRepository.save(user);
   return new UserResponse(user);
   
   // ìˆ˜ì • í›„: save ë°˜í™˜ê°’ ì‚¬ìš© (ID í¬í•¨ëœ ì €ì¥ëœ ì—”í‹°í‹°)
   User savedUser = userRepository.save(user);
   return new UserResponse(savedUser);
   ```

2. **JWT ë¡œì§ ì¤‘ë³µ ì œê±° ë° ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì ìš©**:
   - **ê¸°ì¡´**: `CustomOAuth2UserService`, `JwtAuthenticationFilter`ì— JWT ë¡œì§ ì¤‘ë³µ
   - **ê°œì„ **: `JwtUtil` í´ë˜ìŠ¤ë¡œ í†µí•©í•˜ì—¬ ì½”ë“œ ì¤‘ë³µ ì œê±°
   ```java
   // CustomOAuth2UserServiceì—ì„œ JwtUtil ì‚¬ìš©
   return jwtUtil.generateToken(user.getId(), user.getUsername(), user.getEmail(), user.getRole());
   
   // JwtAuthenticationFilterì—ì„œ JwtUtil ì‚¬ìš©  
   if (token != null && jwtUtil.validateToken(token)) {
       Claims claims = jwtUtil.getClaimsFromToken(token);
   ```

3. **GoogleReponse null ì•ˆì „ì„± ê°•í™”**:
   ```java
   // ìˆ˜ì • ì „: NullPointerException ìœ„í—˜
   return attribute.get("email").toString();
   
   // ìˆ˜ì • í›„: null-safe ì²˜ë¦¬
   attribute.get("email");
   return Optional.ofNullable(attribute.get("email"))
            .map(Object::toString())
            .orElse(null);
   ```

---

#### 2) Repository Layer í…ŒìŠ¤íŠ¸ (Data Layer ì•ˆì •ì„± ê²€ì¦) âœ… **êµ¬í˜„ ì™„ë£Œ**

- **UserRepository í…ŒìŠ¤íŠ¸**: `UserRepositoryTest.java` (9ê°œ í…ŒìŠ¤íŠ¸)
  - `@DataJpaTest` ì–´ë…¸í…Œì´ì…˜ í™œìš©
  - `@BeforeEach`ë¡œ ê³µí†µ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„
  - ì‚¬ìš©ì ì €ì¥, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ(Soft Delete) ê²€ì¦
  - ì»¤ìŠ¤í…€ ì¿¼ë¦¬ ë©”ì†Œë“œ(`findByEmail()`, `findByUsername()`) ê²€ì¦
  - ì¤‘ë³µ ì´ë©”ì¼ ì €ì¥ ë° ì—¬ëŸ¬ ì‚¬ìš©ì ê´€ë¦¬ í…ŒìŠ¤íŠ¸

- **BoardRepository í…ŒìŠ¤íŠ¸**: `BoardRepositoryTest.java` (9ê°œ í…ŒìŠ¤íŠ¸)
  - ê²Œì‹œíŒ CRUD ê¸°ë³¸ ë™ì‘ ê²€ì¦
  - ì œëª© ê²€ìƒ‰ ê¸°ëŠ¥(`findByTitleContaining()`) ë° í˜ì´ì§• í…ŒìŠ¤íŠ¸
  - H2 ë°ì´í„°ë² ì´ìŠ¤ ëŒ€ì†Œë¬¸ì êµ¬ë¶„ íŠ¹ì„± ë°˜ì˜í•œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
  - ê²Œì‹œíŒê³¼ ëŒ“ê¸€ ì—°ê´€ê´€ê³„ ê²€ì¦
  - Soft Delete ë™ì‘ í™•ì¸

- **ReplyRepository í…ŒìŠ¤íŠ¸**: `ReplyRepositoryTest.java` (9ê°œ í…ŒìŠ¤íŠ¸)
  - ëŒ“ê¸€ CRUD ê¸°ë³¸ ë™ì‘ ê²€ì¦
  - ê²Œì‹œíŒ-ëŒ“ê¸€, ì‚¬ìš©ì-ëŒ“ê¸€ ì—°ê´€ê´€ê³„ í…ŒìŠ¤íŠ¸
  - Cascade ë° OrphanRemoval ë™ì‘ ê²€ì¦
  - ëŒ“ê¸€ ë‚´ìš© ê¸¸ì´ ì œí•œ(120ì) í…ŒìŠ¤íŠ¸
  - ì—¬ëŸ¬ ëŒ“ê¸€ ê´€ë¦¬ ë° ìˆ˜ì • ê¸°ëŠ¥ ê²€ì¦

##### **ğŸ”§ Repository Layer í…ŒìŠ¤íŠ¸ ì „ëµ**

1. **@BeforeEach í™œìš©ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ íš¨ìœ¨ì„± í–¥ìƒ**:
   ```java
   @BeforeEach
   void setUp() {
       // ê³µí†µ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ í•œ ë²ˆì— ì¤€ë¹„
       testUser = userRepository.save(createTestUser());
       testBoard = boardRepository.save(createTestBoard());
   }
   ```

2. **ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ë™ì‘ ë°˜ì˜**:
   - H2 ë°ì´í„°ë² ì´ìŠ¤ì˜ ëŒ€ì†Œë¬¸ì êµ¬ë¶„ íŠ¹ì„±ì„ ê³ ë ¤í•œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
   - JPA ì—°ê´€ê´€ê³„, Cascade, OrphanRemoval ë“±ì˜ ì‹¤ì œ ë™ì‘ ê²€ì¦

**ì„±ê³¼**: ì´ 27ê°œ Repository í…ŒìŠ¤íŠ¸ ì‘ì„± â†’ Data Layer ì•ˆì •ì„± í™•ë³´

---

#### 3) Web Layer + Security / JWT í†µí•© ê²€ì¦ âœ… **êµ¬í˜„ ì™„ë£Œ**

**ëª©ì **: ìš´ì˜ í™˜ê²½ê³¼ ìœ ì‚¬í•˜ê²Œ Security, JWT í•„í„°, Controller ì—°ë™ ë™ì‘ ê²€ì¦
**íŠ¹ì§•**: `@SpringBootTest` + `@AutoConfigureMockMvc` ì‚¬ìš©, SecurityConfigì™€ JwtAuthenticationFilter í¬í•¨ â†’ ì‹¤ì œ ìš”ì²­ íë¦„ ê²€ì¦

- **SecurityConfig í…ŒìŠ¤íŠ¸**: `SecurityConfigTest.java` (4ê°œ í…ŒìŠ¤íŠ¸) âœ…
  - ê³µê°œ/ë³´í˜¸ëœ ì—”ë“œí¬ì¸íŠ¸ ì ‘ê·¼ ì œì–´
  - OAuth2 ë¡œê·¸ì¸ ì—”ë“œí¬ì¸íŠ¸ ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€

- **JwtAuthenticationFilter í…ŒìŠ¤íŠ¸**: `JwtAuthenticationFilterTest.java` (3ê°œ í…ŒìŠ¤íŠ¸) âœ…
  - ìœ íš¨í•œ JWT â†’ ì¸ì¦ ì„±ê³µ
  - ì˜ëª»ëœ JWT â†’ ì¸ì¦ ì‹¤íŒ¨
  - JWT í† í° ì—†ì´ ì ‘ê·¼ ì‹œ ì¸ì¦ ì‹¤íŒ¨

- **BoardApiController í…ŒìŠ¤íŠ¸**: `BoardApiControllerTest.java` (2ê°œ í…ŒìŠ¤íŠ¸) âœ…
  - ì¸ì¦ëœ ì‚¬ìš©ì API ì ‘ê·¼
  - ë¹„ì¸ì¦ ì‚¬ìš©ì API ì ‘ê·¼ ì œí•œ

**ì¥ì **: ìš´ì˜ í™˜ê²½ê³¼ ê±°ì˜ ë™ì¼í•œ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì¬í˜„, Security/Filter/Controller í†µí•© íë¦„ ê²€ì¦ ê°€ëŠ¥

##### **ğŸ”§ Web Layer í…ŒìŠ¤íŠ¸ ì „ëµ**

1. **í†µí•© í…ŒìŠ¤íŠ¸**:
   ```java
   @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
   @AutoConfigureMockMvc
   @ActiveProfiles("test")
   class SecurityConfigTest {
       // SecurityConfigì™€ JwtAuthenticationFilter í¬í•¨ â†’ ì‹¤ì œ ìš”ì²­ íë¦„ ê²€ì¦
   }
   ```

2. **Security í…ŒìŠ¤íŠ¸**:
   ```java
   @WithMockUser(username = "testuser", roles = "USER")
   void authenticatedUserAccess() throws Exception {
       // ì¸ì¦ëœ ì‚¬ìš©ì ì‹œë®¬ë ˆì´ì…˜
   }
   ```

3. **MockMvcë¥¼ í†µí•œ HTTP í…ŒìŠ¤íŠ¸**:
   ```java
   mockMvc.perform(get("/boardList"))
           .andExpect(status().isOk())
           .andExpect(view().name("board/get-boardlist"));
   ```

**ì„±ê³¼**: ì´ 9ê°œ Web Layer í•µì‹¬ í…ŒìŠ¤íŠ¸ ì‘ì„± â†’ Security & Controller ì•ˆì •ì„± í™•ë³´

---

#### 4) Integration Test & End-to-End í…ŒìŠ¤íŠ¸ (ì „ì²´ í”Œë¡œìš° ê²€ì¦) âœ… **êµ¬í˜„ ì™„ë£Œ**

1. **OAuth2 í†µí•© í…ŒìŠ¤íŠ¸**: `OAuth2IntegrationTest.java` (3ê°œ í…ŒìŠ¤íŠ¸)
   - `@SpringBootTest(webEnvironment = RANDOM_PORT)`
   - MockWebServerë¡œ Google OAuth2 API ëª¨í‚¹
   - ì „ì²´ ì¸ì¦ í”Œë¡œìš°: OAuth2 ë¡œê·¸ì¸ â†’ JWT í† í° ë°œê¸‰ â†’ Claims ê²€ì¦
   - JWT í† í° ìƒì„±/ê²€ì¦ ë¡œì§ í†µí•© ê²€ì¦

2. **API í†µí•© í…ŒìŠ¤íŠ¸**: `AuthenticationIntegrationTest.java` (6ê°œ í…ŒìŠ¤íŠ¸) âœ…
   - **í˜„ì¬ ì´ìŠˆ**: Soft Delete ë™ì‘ ë¬¸ì œë¡œ ì‚­ì œ í›„ ëª©ë¡ ì¡°íšŒ ì‹œ ê°œìˆ˜ í™•ì¸ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨
   - **í•´ê²° ë°©ì•ˆ**: BoardService.deleteBoard()ì—ì„œ flush() í˜¸ì¶œ ì¶”ê°€ ë˜ëŠ” 404 ì‘ë‹µìœ¼ë¡œ ì‚­ì œ í™•ì¸   - TestContainersë¡œ ì‹¤ì œ MySQL DB ì—°ê²°
   - ì „ì²´ CRUD í”Œë¡œìš°: ë¡œê·¸ì¸ â†’ JWT ë°œê¸‰ â†’ ê²Œì‹œíŒ ìƒì„±/ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ
   - ì¸ì¦ëœ API í˜¸ì¶œ ë° ê¶Œí•œ ê²€ì¦
   - Soft Delete ë™ì‘ ê²€ì¦

3. **í™˜ê²½ë³€ìˆ˜ í…ŒìŠ¤íŠ¸**: `EnvironmentConfigTest.java` (3ê°œ í…ŒìŠ¤íŠ¸) âœ…
   - `.env` íŒŒì¼ ë¡œë”© ë° Spring í”„ë¡œí¼í‹° ë°”ì¸ë”© ê²€ì¦
   - í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬ ê²€ì¦

**ì„±ê³¼**: ì´ 12ê°œ í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„± â†’ ì „ì²´ ì• í”Œë¦¬ì¼€ì´ì…˜ í”Œë¡œìš° ì•ˆì •ì„± í™•ë³´

##### **ğŸ”§ Integration Test ì „ëµ**

1. **TestContainers í™œìš©**:
   ```java
   @Container
   @ServiceConnection
   static MySQLContainer<?> mysqlContainer = new MySQLContainer<>("mysql:8.0")
           .withDatabaseName("testdb")
           .withUsername("test")
           .withPassword("test")
           .withReuse(true);
   ```

2. **MockWebServer í™œìš©**:
   ```java
   MockWebServer mockWebServer = new MockWebServer();
   mockWebServer.start();
   // Google OAuth2 API ëª¨í‚¹
   ```

3. **ì‹¤ì œ DB ê¸°ë°˜ í…ŒìŠ¤íŠ¸**:
   ```java
   @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
   @Testcontainers
   @ActiveProfiles("test")
   class AuthenticationIntegrationTest {
       // ì‹¤ì œ MySQL DBì™€ ì—°ë™í•˜ì—¬ ì „ì²´ í”Œë¡œìš° ê²€ì¦
   }
   ```

**ì¥ì **: ìš´ì˜ í™˜ê²½ê³¼ ê±°ì˜ ë™ì¼í•œ í…ŒìŠ¤íŠ¸ í™˜ê²½ ì¬í˜„, ì‹¤ì œ DB ì—°ë™ìœ¼ë¡œ ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦ ê°€ëŠ¥

---

### ğŸ›  í…ŒìŠ¤íŠ¸ì—ì„œ í™œìš©í•œ Spring ê¸°ìˆ  ìŠ¤íƒ

#### **ğŸ§ª í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ & ë¼ì´ë¸ŒëŸ¬ë¦¬**
- **JUnit 5 (Jupiter)**: ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬
  - `@Test`, `@DisplayName`, `@BeforeEach` - í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ë° ì„¤ì •
  - `@ExtendWith(MockitoExtension.class)` - Mockito í†µí•© (ìˆœìˆ˜ Unit Test)
- **Mockito**: Mock ê°ì²´ ìƒì„± ë° ê²€ì¦
  - `@Mock` - Repository ë“± ì˜ì¡´ì„± Mock ìƒì„± (`UserRepository`)
  - `@InjectMocks` - í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ê°ì²´ì— Mock ì£¼ì… (`UserService`, `JwtUtil`)
  - `given().willReturn()` - Mock ë™ì‘ ì •ì˜ (BDD ìŠ¤íƒ€ì¼)
  - `then().should()` - Mock í˜¸ì¶œ ê²€ì¦
  - `willAnswer()` - ë™ì  Mock ì‘ë‹µ ì„¤ì • (ID ìƒì„± ì‹œë®¬ë ˆì´ì…˜)
  - `never()` - ë©”ì„œë“œ í˜¸ì¶œë˜ì§€ ì•ŠìŒ ê²€ì¦
- **AssertJ**: ìœ ì°½í•œ ê²€ì¦ API 
  - `assertThat()` - ê°’ ê²€ì¦, `isEqualTo()`, `isNotNull()`, `hasSize()`
  - `assertThatThrownBy()` - ì˜ˆì™¸ ë°œìƒ ê²€ì¦
  - `assertThatCode()` - ì˜ˆì™¸ ë¯¸ë°œìƒ ê²€ì¦

#### **ğŸƒ Spring Test ê´€ë ¨ ê¸°ìˆ **
- **Spring Test Utils**: 
  - `ReflectionTestUtils.setField()` - `@Value` private í•„ë“œ ì£¼ì… (Unit Testì—ì„œ ì‚¬ìš©)
- **Spring Boot Test**:
  - `@SpringBootTest` - í†µí•© í…ŒìŠ¤íŠ¸ìš© (ì „ì²´ ApplicationContext ë¡œë“œ)
  - `@ExtendWith(MockitoExtension.class)` - ìˆœìˆ˜ Unit Test (Context ë¡œë“œ ì—†ì´ ë¹ ë¥¸ ì‹¤í–‰)
  - `@Disabled` - íŠ¹ì • í…ŒìŠ¤íŠ¸ ë¹„í™œì„±í™” (í†µí•© í…ŒìŠ¤íŠ¸ ì œì™¸)
- **Test Profile ì„¤ì •**:
  - `src/test/resources/application-test.yml` - í…ŒìŠ¤íŠ¸ ì „ìš© ì„¤ì • íŒŒì¼
  - `spring.profiles.active: test` - í…ŒìŠ¤íŠ¸ í”„ë¡œíŒŒì¼ í™œì„±í™”
  - `systemProperty("spring.profiles.active", "test")` - Gradle í…ŒìŠ¤íŠ¸ íƒœìŠ¤í¬ ì„¤ì •

#### **ğŸŒ Spring Web & Security í…ŒìŠ¤íŠ¸**
- **Spring Security Test**:
  - `@WithMockUser` - ì¸ì¦ëœ ì‚¬ìš©ì ì‹œë®¬ë ˆì´ì…˜
  - `@WithAnonymousUser` - ìµëª… ì‚¬ìš©ì ì‹œë®¬ë ˆì´ì…˜
  - `@WithUserDetails` - ì‚¬ìš©ì ìƒì„¸ ì •ë³´ ê¸°ë°˜ ì¸ì¦
- **Spring MVC Test**:
  - `@AutoConfigureMockMvc` - MockMvc ìë™ ì„¤ì •
  - `MockMvc` - HTTP ìš”ì²­/ì‘ë‹µ í…ŒìŠ¤íŠ¸
  - `MockMvcRequestBuilders` - HTTP ìš”ì²­ ë¹Œë”
  - `MockMvcResultMatchers` - HTTP ì‘ë‹µ ê²€ì¦
- **Spring Boot Test**:
  - `@SpringBootTest(webEnvironment = RANDOM_PORT)` - ì‹¤ì œ ì„œë²„ í¬íŠ¸ë¡œ í†µí•© í…ŒìŠ¤íŠ¸
  - `@SpringBootTest(webEnvironment = MOCK)` - Mock ì›¹ í™˜ê²½ìœ¼ë¡œ í…ŒìŠ¤íŠ¸

#### **ğŸ’¾ í…ŒìŠ¤íŠ¸ ë°ì´í„°ë² ì´ìŠ¤**
- **H2 Database**: 
  - `jdbc:h2:mem:testdb` - ì¸ë©”ëª¨ë¦¬ í…ŒìŠ¤íŠ¸ DB
  - `ddl-auto: create-drop` - í…ŒìŠ¤íŠ¸ ì‹œì‘/ì¢…ë£Œ ì‹œ ìŠ¤í‚¤ë§ˆ ìƒì„±/ì‚­ì œ
  - `DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE` - í…ŒìŠ¤íŠ¸ ê°„ DB ì—°ê²° ìœ ì§€
  - `show-sql: false` - í…ŒìŠ¤íŠ¸ ë¡œê·¸ ìµœì†Œí™”
- **Spring Data JPA Test**:
  - `@DataJpaTest` - JPA ê´€ë ¨ Beanë§Œ ë¡œë“œí•˜ì—¬ ë¹ ë¥¸ í…ŒìŠ¤íŠ¸
  - `@Transactional` - ìë™ íŠ¸ëœì­ì…˜ ë¡¤ë°±ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê²©ë¦¬

#### **ğŸ” í…ŒìŠ¤íŠ¸ ë³´ì•ˆ ì„¤ì •**
- **OAuth2 Test Configuration**: 
  - `test_google_client_id`, `test_google_client_secret` - í…ŒìŠ¤íŠ¸ìš© ë”ë¯¸ ê°’
- **JWT Test Configuration**: 
  - `test_jwt_secret_key_for_testing_64_chars_minimum_required_for_hs512_algorithm` - HS512 ì•Œê³ ë¦¬ì¦˜ìš© 64ë°”ì´íŠ¸ ì´ìƒ í‚¤
  - `expiration: 3600000` - í…ŒìŠ¤íŠ¸ìš© 1ì‹œê°„ ë§Œë£Œ ì‹œê°„
- **Logging Configuration**: 
  - `root: WARN`, `com.example.springlm: INFO` - í…ŒìŠ¤íŠ¸ ë¡œê·¸ ë ˆë²¨ ìµœì í™”

---

## ğŸ“Š í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ (Jacoco)

### **í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ ìƒì„±**

```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew test

# Jacoco ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ ìƒì„±
./gradlew jacocoTestReport

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰ + ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ ìƒì„± (í•œ ë²ˆì—)
./gradlew clean test jacocoTestReport
```

### **ğŸ“ ë¦¬í¬íŠ¸ íŒŒì¼ ìœ„ì¹˜**

```
build/
â”œâ”€â”€ jacocoHtml/           # HTML í˜•ì‹ ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸
â”‚   â”œâ”€â”€ index.html       # ë©”ì¸ ë¦¬í¬íŠ¸ í˜ì´ì§€
â”‚   â””â”€â”€ com.example.springlm.*/  # íŒ¨í‚¤ì§€ë³„ ìƒì„¸ ë¦¬í¬íŠ¸
â”œâ”€â”€ jacoco/              # ë°”ì´ë„ˆë¦¬ ì»¤ë²„ë¦¬ì§€ ë°ì´í„°
â”‚   â””â”€â”€ test.exec        # í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°ì´í„°
â””â”€â”€ reports/tests/test/  # í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼
    â””â”€â”€ index.html       # í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë¦¬í¬íŠ¸
```

### **ğŸŒ ë¦¬í¬íŠ¸ í™•ì¸ ë°©ë²•**

1. **ë¸Œë¼ìš°ì €ì—ì„œ HTML ë¦¬í¬íŠ¸ ì—´ê¸°:**
   ```
   file:///[í”„ë¡œì íŠ¸ê²½ë¡œ]/build/jacocoHtml/index.html
   ```

2. **macOSì—ì„œ ë°”ë¡œ ì—´ê¸°:**
   ```bash
   open build/jacocoHtml/index.html
   ```

3. **ë¦¬í¬íŠ¸ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì •ë³´:**
   - **íŒ¨í‚¤ì§€ë³„ ì»¤ë²„ë¦¬ì§€**: ê° íŒ¨í‚¤ì§€ì˜ ë¼ì¸/ë¸Œëœì¹˜ ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨
   - **í´ë˜ìŠ¤ë³„ ìƒì„¸ ë¶„ì„**: ë©”ì„œë“œë³„ ì»¤ë²„ë¦¬ì§€ í˜„í™©
   - **ì†ŒìŠ¤ì½”ë“œ í•˜ì´ë¼ì´íŒ…**: í…ŒìŠ¤íŠ¸ëœ/ì•ˆëœ ì½”ë“œ êµ¬ë¶„ í‘œì‹œ
   - **ì»¤ë²„ë¦¬ì§€ í†µê³„**: ì „ì²´ í”„ë¡œì íŠ¸ ì»¤ë²„ë¦¬ì§€ ìš”ì•½

### **ğŸ“ˆ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ ì„¤ì •**

`build.gradle`ì—ì„œ ìµœì†Œ ì»¤ë²„ë¦¬ì§€ ë¹„ìœ¨ ì„¤ì •:

```gradle
jacocoTestCoverageVerification {
    violationRules {
        rule {
            limit {
                minimum = 0.80  // 80% ì´ìƒ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ
            }
        }
    }
}
```

### **âœ… í˜„ì¬ êµ¬í˜„ëœ í…ŒìŠ¤íŠ¸ë“¤**

#### **ğŸ§ª Unit Test Layer (29ê°œ í…ŒìŠ¤íŠ¸)**
- **ğŸ” JwtUtilTest**: JWT í† í° ìƒì„±/ê²€ì¦/íŒŒì‹± ë¡œì§ (11ê°œ í…ŒìŠ¤íŠ¸)
- **ğŸ‘¤ UserServiceTest**: ì‚¬ìš©ì CRUD ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (10ê°œ í…ŒìŠ¤íŠ¸)
- **ğŸŒ GoogleResponseTest**: OAuth2 ì‘ë‹µ ë°ì´í„° ë³€í™˜ (8ê°œ í…ŒìŠ¤íŠ¸)

#### **ğŸ—„ï¸ Repository Layer (27ê°œ í…ŒìŠ¤íŠ¸)**
- **ğŸ‘¤ UserRepositoryTest**: ì‚¬ìš©ì ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ (9ê°œ í…ŒìŠ¤íŠ¸)
- **ğŸ“ BoardRepositoryTest**: ê²Œì‹œíŒ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ (9ê°œ í…ŒìŠ¤íŠ¸)
- **ğŸ’¬ ReplyRepositoryTest**: ëŒ“ê¸€ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ (9ê°œ í…ŒìŠ¤íŠ¸)

#### **ğŸŒ Web Layer (9ê°œ í…ŒìŠ¤íŠ¸)**
- **ğŸ›¡ï¸ SecurityConfigTest**: ë³´ì•ˆ ì„¤ì • ë° ì ‘ê·¼ ì œì–´ (4ê°œ í…ŒìŠ¤íŠ¸)
- **ğŸ”‘ JwtAuthenticationFilterTest**: JWT ì¸ì¦ í•„í„° (3ê°œ í…ŒìŠ¤íŠ¸)
- **ğŸ“ BoardApiControllerTest**: ê²Œì‹œíŒ API ì»¨íŠ¸ë¡¤ëŸ¬ (2ê°œ í…ŒìŠ¤íŠ¸)

#### **ğŸ”— Integration Test Layer (12ê°œ í…ŒìŠ¤íŠ¸)**
- **ğŸ” OAuth2IntegrationTest**: OAuth2 í†µí•© í…ŒìŠ¤íŠ¸ (3ê°œ í…ŒìŠ¤íŠ¸)
- **ğŸŒ AuthenticationIntegrationTest**: API í†µí•© í…ŒìŠ¤íŠ¸ (6ê°œ í…ŒìŠ¤íŠ¸)
- **âš™ï¸ EnvironmentConfigTest**: í™˜ê²½ë³€ìˆ˜ í…ŒìŠ¤íŠ¸ (3ê°œ í…ŒìŠ¤íŠ¸)

### **ğŸš€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹ì–´**

```bash
# íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë§Œ ì‹¤í–‰
./gradlew test --tests "JwtUtilTest"
./gradlew test --tests "UserServiceTest"
./gradlew test --tests "GoogleResponseTest"
./gradlew test --tests "UserRepositoryTest"
./gradlew test --tests "BoardRepositoryTest"
./gradlew test --tests "ReplyRepositoryTest"
./gradlew test --tests "SecurityConfigTest"
./gradlew test --tests "JwtAuthenticationFilterTest"
./gradlew test --tests "BoardApiControllerTest"
./gradlew test --tests "OAuth2IntegrationTest"
./gradlew test --tests "AuthenticationIntegrationTest"
./gradlew test --tests "EnvironmentConfigTest"

# Integration Test ì‹¤í–‰
./gradlew test --tests "*IntegrationTest*"          # ëª¨ë“  Integration Test

# ë ˆì´ì–´ë³„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew test --tests "*Test"                    # ëª¨ë“  Unit Test
./gradlew test --tests "*RepositoryTest"          # ëª¨ë“  Repository Test
./gradlew test --tests "*ConfigTest"              # ëª¨ë“  Config Test
./gradlew test --tests "*FilterTest"              # ëª¨ë“  Filter Test
./gradlew test --tests "*ApiControllerTest"       # ëª¨ë“  API Controller Test

# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew test                                     # ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew clean test                              # í´ë¦° ë¹Œë“œ í›„ í…ŒìŠ¤íŠ¸

# í…ŒìŠ¤íŠ¸ í”„ë¡œíŒŒì¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
./gradlew bootRunTest

# ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ ìƒì„±
./gradlew jacocoTestReport                        # ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ ìƒì„±
./gradlew clean test jacocoTestReport            # í…ŒìŠ¤íŠ¸ + ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸
./gradlew jacocoTestCoverageVerification         # ì»¤ë²„ë¦¬ì§€ ê²€ì¦ (80% ì´ìƒ)
```
